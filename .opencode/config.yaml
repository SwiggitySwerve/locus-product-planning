# OpenCode Plugin Configuration for org-skills
# This enables the Initiative Flow Framework and organizational skills

name: org-skills
version: "1.0.0"
description: Organization-level AI skills with Initiative Flow orchestration

# Skills to load
skills:
  # Orchestration (Tier 0)
  - path: skills/00-orchestration/initiative-flow/SKILL.md
    triggers: [/initiative, /ini, /flow]
    priority: high

  # Executive Suite (Tier 1)
  - path: skills/01-executive-suite/
    triggers: [strategic, vision, executive, c-level]
    
  # Product Management (Tier 2)
  - path: skills/02-product-management/
    triggers: [product, prd, epic, roadmap, sprint]
    
  # Engineering Leadership (Tier 3)
  - path: skills/03-engineering-leadership/
    triggers: [architecture, adr, technical design, tech lead]
    
  # Developer Specializations (Tier 4)
  - path: skills/04-developer-specializations/
    triggers: [implement, code, develop, build]

# Commands
commands:
  - path: .opencode/commands/initiative.yaml

# Councils (for multi-agent deliberation)
councils:
  - path: councils/executive-council/
  - path: councils/product-council/
  - path: councils/architecture-council/
  - path: councils/code-review-council/

# Agents
agents:
  - path: agents/

# Initiative Flow settings
initiative_flow:
  # Where initiatives are stored
  initiatives_path: openspec/initiatives
  
  # Schema to use
  schema: initiative-flow
  
  # Gate mode: strict (manual approval) or auto (advance when gate passes)
  gate_mode: strict
  
  # Auto-escalation settings
  escalation:
    scope_increase_percent: 20
    timeline_slip_days: 7
    blocker_unresolved_hours: 48

# Context to inject into conversations when in this project
context: |
  This project uses the Initiative Flow Framework for orchestrating work.
  
  Available commands:
  - /initiative new <title> - Start a new initiative
  - /initiative status - Check current status
  - /initiative next - Work on the next action
  - /initiative gate <gate> - Check gate criteria
  - /initiative advance - Move to next tier
  
  Tiers:
  1. Strategic Review (Executive Council)
  2. Product Planning (Product Council)
  3. Technical Design (Architecture Council)
  4. Implementation (Code Review Council + Specialists)
  
  Each tier produces artifacts that must pass machine-checkable gates.
